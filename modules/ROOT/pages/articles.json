{"articles":[{"id":203307636,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/203307636.json","html_url":"https://support.neo4j.com/hc/en-us/articles/203307636","author_id":828189206,"comments_disabled":true,"label_names":["download","enterprise"],"draft":false,"promoted":true,"position":0,"vote_sum":3,"vote_count":3,"section_id":200574983,"created_at":"2014-09-15T12:12:54Z","updated_at":"2015-11-11T20:05:27Z","name":"Download Page","title":"Download Page","body":"\u003ch2\u003eDownloads for Commercial Customers\u003c/h2\u003e\r\n\u003ch2\u003e\u003cspan class=\"wysiwyg-font-size-large\"\u003eNeo4j Current Release\u003c/span\u003e\u003c/h2\u003e\r\n\u003ch3\u003eNeo4j 2.3\u003c/h3\u003e\r\n\u003cp\u003e\u003ca href=\"http://www.neo4j.com/customer/download/neo4j-enterprise-2.3.1-unix.tar.gz\"\u003eNeo4j 2.3.1 Enterprise for Linux/Mac\u003c/a\u003e\u003cbr /\u003e \u003ca href=\"http://www.neo4j.com/customer/download/neo4j-enterprise-2.3.1-windows.zip\"\u003eNeo4j 2.3.1 Enterprise for Windows\u003c/a\u003e\u003cbr /\u003e \u003ca href=\"http://neo4j.com/release-notes/neo4j-2-3-1/\"\u003eRelease Notes\u003c/a\u003e\u003cbr /\u003e \u003ca href=\"http://neo4j.com/docs/2.3.1/index.html\"\u003eNeo4j Manual v2.3.1\u003c/a\u003e\u003cbr /\u003e \u003ca href=\"http://neo4j.com/docs/pdf/neo4j-manual-2.3.1.pdf\"\u003eNeo4j Manual v2.3.1 (pdf download)\u003c/a\u003e\u003c/p\u003e\r\n\u003cp\u003e \u003c/p\u003e\r\n\u003ch3\u003e\u003cspan class=\"wysiwyg-font-size-large\"\u003eOther Versions\u003c/span\u003e\u003c/h3\u003e\r\n\u003ch3\u003eNeo4j 2.2\u003c/h3\u003e\r\n\u003cp\u003e\u003ca href=\"http://www.neo4j.com/customer/download/neo4j-enterprise-2.2.6-unix.tar.gz\"\u003eNeo4j 2.2.6 Enterprise for Linux/Mac\u003c/a\u003e\u003cbr /\u003e \u003ca href=\"http://www.neo4j.com/customer/download/neo4j-enterprise-2.2.6-windows.zip\"\u003eNeo4j 2.2.6 Enterprise for Windows\u003c/a\u003e\u003cbr /\u003e \u003ca href=\"http://neo4j.com/release-notes/neo4j-2-2-6/\"\u003eRelease Notes\u003c/a\u003e\u003cbr /\u003e \u003ca href=\"http://neo4j.com/docs/2.2.6/index.html\"\u003eNeo4j Manual v2.2.6\u003c/a\u003e\u003cbr /\u003e \u003ca href=\"http://neo4j.com/docs/pdf/neo4j-manual-2.2.6.pdf\"\u003eNeo4j Manual v2.2.6 (pdf download)\u003c/a\u003e\u003c/p\u003e\r\n\u003ch3\u003eNeo4j 2.1\u003c/h3\u003e\r\n\u003cp\u003e\u003ca href=\"http://www.neo4j.com/customer/download/neo4j-enterprise-2.1.8-unix.tar.gz\"\u003eNeo4j 2.1.8 Enterprise for Linux/Mac\u003c/a\u003e\u003cbr /\u003e \u003ca href=\"http://www.neo4j.com/customer/download/neo4j-enterprise-2.1.8-windows.zip\"\u003eNeo4j 2.1.8 Enterprise for Windows\u003c/a\u003e\u003cbr /\u003e\u003ca href=\"http://neo4j.com/release-notes/neo4j-2-1-8/\"\u003eRelease Notes\u003c/a\u003e\u003cbr /\u003e\u003ca href=\"http://neo4j.com/docs/2.1.8/index.html\"\u003eNeo4j Manual v2.1.8\u003c/a\u003e\u003c/p\u003e\r\n\u003ch3\u003eNeo4j 2.0\u003c/h3\u003e\r\n\u003cp\u003e\u003ca href=\"http://www.neo4j.com/customer/download/neo4j-enterprise-2.0.4-unix.tar.gz\"\u003eNeo4j 2.0.4 Enterprise for Linux/Mac\u003c/a\u003e\u003cbr /\u003e \u003ca href=\"http://www.neo4j.com/customer/download/neo4j-enterprise-2.0.4-windows.zip\"\u003eNeo4j 2.0.4 Enterprise for Windows\u003c/a\u003e\u003cbr /\u003e \u003ca href=\"http://neo4j.com/release-notes/neo4j-2-0-4/\"\u003eRelease Notes\u003c/a\u003e\u003cbr /\u003e \u003ca href=\"http://neo4j.com/docs/2.0.4/index.html\"\u003eNeo4j Manual v2.0.4\u003c/a\u003e\u003c/p\u003e\r\n\u003cp\u003e \u003c/p\u003e\r\n\u003cp\u003eFor other versions please open a ticket and we can provide them on request.\u003c/p\u003e","source_locale":"en-us","locale":"en-us","outdated":false},{"id":203508423,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/203508423.json","html_url":"https://support.neo4j.com/hc/en-us/articles/203508423","author_id":828189206,"comments_disabled":true,"label_names":[],"draft":false,"promoted":true,"position":1,"vote_sum":1,"vote_count":1,"section_id":200574983,"created_at":"2014-09-15T13:15:03Z","updated_at":"2015-10-09T03:10:43Z","name":"Getting Started with Support","title":"Getting Started with Support","body":"\u003cp\u003eWelcome to Neo Support.\u003c/p\u003e\r\n\u003cp\u003eWhile our active community is a great place to get help and to find out more about the products and how others use them, there will be times when you need direct help from us. \u0026nbsp;All support issues are handled through tickets.\u003c/p\u003e\r\n\u003cp\u003eSupport tickets can be opened to get help as well as resolve issues, all will be reviewed, triaged and responded to. \u0026nbsp;\u003c/p\u003e\r\n\u003cp\u003eTo get started, you can \u003ca href=\"/hc/requests/new\"\u003eopen a new ticket\u003c/a\u003e.\u003c/p\u003e\r\n\u003cp\u003eYou can also review our \u003ca href=\"http://www.neotechnology.com/support-terms/\"\u003estandard support terms\u003c/a\u003e.\u003c/p\u003e","source_locale":"en-us","locale":"en-us","outdated":false},{"id":203307656,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/203307656.json","html_url":"https://support.neo4j.com/hc/en-us/articles/203307656","author_id":828189206,"comments_disabled":true,"label_names":[],"draft":false,"promoted":true,"position":2,"vote_sum":1,"vote_count":1,"section_id":200574983,"created_at":"2014-09-15T12:17:16Z","updated_at":"2015-10-09T03:11:23Z","name":"How do I create a new support account?","title":"How do I create a new support account?","body":"\u003cp\u003ePlease \u003ca href=\"/hc/requests/new\"\u003eopen a new request\u003c/a\u003e with the following contact information from the new contact:\u003c/p\u003e\r\n\u003cul\u003e\r\n\u003cli\u003eFull Name\u003c/li\u003e\r\n\u003cli\u003eE-mail Address\u003c/li\u003e\r\n\u003cli\u003eContact Phone Number\u003c/li\u003e\r\n\u003c/ul\u003e","source_locale":"en-us","locale":"en-us","outdated":false},{"id":202969218,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/202969218.json","html_url":"https://support.neo4j.com/hc/en-us/articles/202969218","author_id":211781478,"comments_disabled":false,"label_names":[],"draft":false,"promoted":false,"position":0,"vote_sum":0,"vote_count":0,"section_id":200389507,"created_at":"2014-06-20T19:11:08Z","updated_at":"2015-11-12T17:47:53Z","name":"checking cluster status via command line","title":"checking cluster status via command line","body":"\u003cp\u003e\u003cspan style=\"color: #555555; font-size: 12px; font-family: 'Lucida Sans Unicode', 'Lucida Grande', tahoma, Verdana, sans-serif;\"\u003eecho \"dbinfo -g High\\ Availability InstancesInCluster\" | bin/neo4j-shell\u003c/span\u003e\u003c/p\u003e\r\n\u003cp\u003e \u003c/p\u003e\r\n\u003cp\u003e\u003cspan style=\"color: #555555; font-size: 12px; font-family: 'Lucida Sans Unicode', 'Lucida Grande', tahoma, Verdana, sans-serif;\"\u003eto which output will appear similar to\u003c/span\u003e\u003c/p\u003e\r\n\u003cp class=\"wysiwyg-indent2 wysiwyg-text-align-left\"\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e{\"InstancesInCluster\": [\u003c/span\u003e\u003c/p\u003e\r\n\u003cp class=\"wysiwyg-indent2 wysiwyg-text-align-left\"\u003e\u003cspan style=\"color: #555555; font-size: 12px; font-family: 'Lucida Sans Unicode', 'Lucida Grande', tahoma, Verdana, sans-serif;\"\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e {\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e \"alive\": true,\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e \"available\": true,\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e \"haRole\": \"master\",\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e \"instanceId\": \"1\",\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e \"roles\": [\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e \"backup\",\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e \"master\"\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e ],\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e \"uris\": [\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e \"backup://127.0.0.1:6366\",\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e \"ha://192.168.2.20:6363?serverId=1\"\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e ]\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e },\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e {\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e \"alive\": true,\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e \"available\": true,\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e \"haRole\": \"slave\",\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e \"instanceId\": \"2\",\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e \"roles\": [\"slave\"],\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e \"uris\": [\"ha://192.168.2.20:6364?serverId=2\"]\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e },\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e {\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e \"alive\": true,\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e \"available\": true,\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e \"haRole\": \"slave\",\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e \"instanceId\": \"3\",\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e \"roles\": [\"slave\"],\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e \"uris\": [\"ha://192.168.2.20:6365?serverId=3\"]\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e }\u003c/span\u003e\u003cbr /\u003e\u003cspan class=\"wysiwyg-font-size-medium\"\u003e]}\u003c/span\u003e\u003cbr /\u003e\u003c/span\u003e\u003c/p\u003e\r\n\u003cp\u003e \u003c/p\u003e\r\n\u003cp\u003e\u003cspan style=\"color: #555555; font-size: 12px; font-family: 'Lucida Sans Unicode', 'Lucida Grande', tahoma, Verdana, sans-serif;\"\u003eOr:\u003c/span\u003e\u003c/p\u003e\r\n\u003cp\u003e \u003c/p\u003e\r\n\u003cp\u003e\u003cspan style=\"color: #555555; font-size: 12px; font-family: 'Lucida Sans Unicode', 'Lucida Grande', tahoma, Verdana, sans-serif;\"\u003ecurl http://localhost:7474/db/manage/server/jmx/domain/org.neo4j/instance%3Dkernel%230%2Cname%3DHigh+Availability | grep -A1 \"\\(instanceId\\|roles\\)\" | grep -B1 value\u003c/span\u003e\u003c/p\u003e","source_locale":"en-us","locale":"en-us","outdated":false},{"id":212569718,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/212569718.json","html_url":"https://support.neo4j.com/hc/en-us/articles/212569718","author_id":2340447917,"comments_disabled":false,"label_names":["install","docker","Ubuntu","Cloud","VM"],"draft":false,"promoted":false,"position":0,"vote_sum":0,"vote_count":0,"section_id":200389507,"created_at":"2015-10-28T17:23:37Z","updated_at":"2015-10-28T17:23:37Z","name":"Installing Docker on Ubuntu 15.10","title":"Installing Docker on Ubuntu 15.10","body":"\u003cp\u003eBelow is a terminal session I captured as I installed the Docker engine on an Ubuntu Limux VM I'm running in my VMWare Fusion host.\u003c/p\u003e\r\n\u003cp\u003eTo install in the Docker engine, you must have a kernel version 3.13 and even if you have that version, you may need to upgrade the kernel and load additional packages.\u003c/p\u003e\r\n\u003cp\u003eIn this example, I'm running the latest Ubuntu release (15.10) labeled Ubuntu Wily.  If you need to upgrade your kernel you will have to install the linux-image-generic-lts-trusty kernel update.\u003c/p\u003e\r\n\u003cp\u003eThis is my terminal session with notes:\u003c/p\u003e\r\n\u003cp\u003eFirst I check my kernel version to ensure determine if I need to install an update\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode class=\"codeblock\"\u003echristopherupkes@ubuntu:~$ uname -r\u003cbr /\u003e4.2.0-16-generic\u003c/code\u003e\u003c/pre\u003e\r\n\u003cp\u003eI'm good here, but in my environment the apt-key command was failing, maybe due to my internet service provider settings, so I need to retrieve and add the key from get.docker.com directly.\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode\u003echristopherupkes@ubuntu:~$ which wget\u003cbr /\u003e/usr/bin/wget\u003cbr /\u003echristopherupkes@ubuntu:~$ sudo wget https://get.docker.com/gpg\u003cbr /\u003e[sudo] password for christopherupkes: \u003cbr /\u003e--2015-10-27 14:42:33-- https://get.docker.com/gpg\u003cbr /\u003eResolving get.docker.com (get.docker.com)... 54.230.4.21, 54.230.6.170, 54.192.7.186, ...\u003cbr /\u003eConnecting to get.docker.com (get.docker.com)|54.230.4.21|:443... connected.\u003cbr /\u003eHTTP request sent, awaiting response... 200 OK\u003cbr /\u003eLength: 975 [binary/octet-stream]\u003cbr /\u003eSaving to: ‘gpg’\u003cbr /\u003e\u003c/code\u003egpg 100%[=====================\u0026gt;] 975 --.-KB/s in 0s\u003cbr /\u003e2015-10-27 14:42:33 (268 MB/s) - ‘gpg’ saved [975/975]\u003c/pre\u003e\r\n\u003cpre\u003e\u003ccode\u003echristopherupkes@ubuntu:~$ ls\u003cbr /\u003eDesktop Downloads gpg Pictures Templates\u003cbr /\u003eDocuments examples.desktop Music Public Videos\u003cbr /\u003echristopherupkes@ubuntu:~$ sudo apt-key add gpg\u003cbr /\u003eOK\u003c/code\u003e\u003c/pre\u003e\r\n\u003cp\u003eI've downloaded and added my key and now I am going to add a source list for docker packages\u003c/p\u003e\r\n\u003cp\u003e \u003c/p\u003e\r\n\u003cpre\u003e\u003ccode\u003echristopherupkes@ubuntu:~$ sudo touch /etc/apt/sources.list.d/docker.list\u003cbr /\u003echristopherupkes@ubuntu:~$ sudo chmod 777 /etc/apt/sources.list.d/docker.list \u003cbr /\u003echristopherupkes@ubuntu:~$ sudo echo \"deb https://apt.dockerproject.org/repo ubuntu-wily main\" \u0026gt; /etc/apt/sources.list.d/docker.list \u003cbr /\u003echristopherupkes@ubuntu:~$ cat /etc/apt/sources.list.d/docker.list \u003cbr /\u003edeb https://apt.dockerproject.org/repo ubuntu-wily main\u003cbr /\u003e\u003c/code\u003e\u003c/pre\u003e\r\n\u003cp\u003eI've selected the source appropriate for my particular Ubunu kernel so I'm ready to update my OS with the appropriate packages:\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode\u003echristopherupkes@ubuntu:~$ sudo apt-get update\u003cbr /\u003eGet:1 http://security.ubuntu.com wily-security InRelease [64.4 kB]\u003cbr /\u003eHit http://us.archive.ubuntu.com wily InRelease \u003cbr /\u003eGet:2 http://us.archive.ubuntu.com wily-updates InRelease [64.4 kB] \u003cbr /\u003eGet:3 http://security.ubuntu.com wily-security/main Sources [3,854 B] \u003cbr /\u003eGet:4 http://security.ubuntu.com wily-security/restricted Sources [28 B] \u003cbr /\u003eHit http://us.archive.ubuntu.com wily-backports InRelease \u003cbr /\u003eGet:5 http://security.ubuntu.com wily-security/universe Sources [28 B] \u003cbr /\u003eGet:6 http://security.ubuntu.com wily-security/multiverse Sources [28 B] \u003cbr /\u003eGet:7 http://security.ubuntu.com wily-security/main amd64 Packages [7,161 B]\u003cbr /\u003eGet:8 http://security.ubuntu.com wily-security/restricted amd64 Packages [28 B]\u003cbr /\u003eGet:9 http://security.ubuntu.com wily-security/universe amd64 Packages [2,840 B]\u003cbr /\u003eGet:10 http://security.ubuntu.com wily-security/multiverse amd64 Packages [28 B]\u003cbr /\u003eGet:11 http://security.ubuntu.com wily-security/main i386 Packages [7,154 B]\u003cbr /\u003eGet:12 http://security.ubuntu.com wily-security/restricted i386 Packages [28 B]\u003cbr /\u003eGet:13 http://security.ubuntu.com wily-security/universe i386 Packages [2,848 B]\u003cbr /\u003eGet:14 http://security.ubuntu.com wily-security/multiverse i386 Packages [28 B]\u003cbr /\u003eHit http://security.ubuntu.com wily-security/main Translation-en\u003cbr /\u003eHit http://security.ubuntu.com wily-security/multiverse Translation-en\u003cbr /\u003eGet:15 https://apt.dockerproject.org ubuntu-wily InRelease [454 B]\u003cbr /\u003eIgn https://apt.dockerproject.org ubuntu-wily InRelease \u003cbr /\u003eGet:16 https://apt.dockerproject.org ubuntu-wily Release.gpg [801 B] \u003cbr /\u003eHit http://security.ubuntu.com wily-security/restricted Translation-en\u003cbr /\u003eHit http://security.ubuntu.com wily-security/universe Translation-en\u003cbr /\u003eGet:17 https://apt.dockerproject.org ubuntu-wily Release [19.7 kB]\u003cbr /\u003eIgn https://apt.dockerproject.org ubuntu-wily Release \u003cbr /\u003eGet:18 https://apt.dockerproject.org ubuntu-wily/main amd64 Packages [2,268 B]\u003cbr /\u003eGet:19 https://apt.dockerproject.org ubuntu-wily/main i386 Packages [28 B]\u003cbr /\u003eGet:20 http://us.archive.ubuntu.com wily-updates/main Sources [4,738 B]\u003cbr /\u003eGet:21 http://us.archive.ubuntu.com wily-updates/restricted Sources [28 B]\u003cbr /\u003eGet:22 http://us.archive.ubuntu.com wily-updates/universe Sources [28 B]\u003cbr /\u003eGet:23 https://apt.dockerproject.org ubuntu-wily/main Translation-en_US [454 B]\u003cbr /\u003eGet:24 http://us.archive.ubuntu.com wily-updates/multiverse Sources [28 B]\u003cbr /\u003eGet:25 https://apt.dockerproject.org ubuntu-wily/main Translation-en [454 B]\u003cbr /\u003eGet:26 http://us.archive.ubuntu.com wily-updates/main amd64 Packages [9,190 B]\u003cbr /\u003eGet:27 http://us.archive.ubuntu.com wily-updates/restricted amd64 Packages [28 B]\u003cbr /\u003eGet:28 https://apt.dockerproject.org ubuntu-wily/main Translation-en_US [454 B]\u003cbr /\u003eGet:29 http://us.archive.ubuntu.com wily-updates/universe amd64 Packages [3,096 B]\u003cbr /\u003eGet:30 https://apt.dockerproject.org ubuntu-wily/main Translation-en [454 B]\u003cbr /\u003eGet:31 http://us.archive.ubuntu.com wily-updates/multiverse amd64 Packages [28 B]\u003cbr /\u003eGet:32 http://us.archive.ubuntu.com wily-updates/main i386 Packages [9,192 B]\u003cbr /\u003eGet:33 https://apt.dockerproject.org ubuntu-wily/main Translation-en_US [454 B]\u003cbr /\u003eGet:34 http://us.archive.ubuntu.com wily-updates/restricted i386 Packages [28 B]\u003cbr /\u003eGet:35 http://us.archive.ubuntu.com wily-updates/universe i386 Packages [3,100 B]\u003cbr /\u003eGet:36 https://apt.dockerproject.org ubuntu-wily/main Translation-en [454 B]\u003cbr /\u003eGet:37 http://us.archive.ubuntu.com wily-updates/multiverse i386 Packages [28 B]\u003cbr /\u003eGet:38 https://apt.dockerproject.org ubuntu-wily/main Translation-en_US [454 B]\u003cbr /\u003eGet:39 https://apt.dockerproject.org ubuntu-wily/main Translation-en [454 B]\u003cbr /\u003eGet:40 https://apt.dockerproject.org ubuntu-wily/main Translation-en_US [454 B]\u003cbr /\u003eIgn https://apt.dockerproject.org ubuntu-wily/main Translation-en_US\u003cbr /\u003eGet:41 https://apt.dockerproject.org ubuntu-wily/main Translation-en [454 B]\u003cbr /\u003eIgn https://apt.dockerproject.org ubuntu-wily/main Translation-en\u003cbr /\u003eHit http://us.archive.ubuntu.com wily/main Sources \u003cbr /\u003eHit http://us.archive.ubuntu.com wily/restricted Sources\u003cbr /\u003eHit http://us.archive.ubuntu.com wily/universe Sources\u003cbr /\u003eHit http://us.archive.ubuntu.com wily/multiverse Sources\u003cbr /\u003eHit http://us.archive.ubuntu.com wily/main amd64 Packages\u003cbr /\u003eHit http://us.archive.ubuntu.com wily/restricted amd64 Packages\u003cbr /\u003eHit http://us.archive.ubuntu.com wily/universe amd64 Packages\u003cbr /\u003eHit http://us.archive.ubuntu.com wily/multiverse amd64 Packages\u003cbr /\u003eHit http://us.archive.ubuntu.com wily/main i386 Packages\u003cbr /\u003eHit http://us.archive.ubuntu.com wily/restricted i386 Packages\u003cbr /\u003eHit http://us.archive.ubuntu.com wily/universe i386 Packages\u003cbr /\u003eHit http://us.archive.ubuntu.com wily/multiverse i386 Packages\u003cbr /\u003eHit http://us.archive.ubuntu.com wily/main Translation-en\u003cbr /\u003eHit http://us.archive.ubuntu.com wily/multiverse Translation-en\u003cbr /\u003eHit http://us.archive.ubuntu.com wily/restricted Translation-en\u003cbr /\u003eHit http://us.archive.ubuntu.com wily/universe Translation-en\u003cbr /\u003eHit http://us.archive.ubuntu.com wily-updates/main Translation-en\u003cbr /\u003eHit http://us.archive.ubuntu.com wily-updates/multiverse Translation-en\u003cbr /\u003eHit http://us.archive.ubuntu.com wily-updates/restricted Translation-en\u003cbr /\u003eHit http://us.archive.ubuntu.com wily-updates/universe Translation-en\u003cbr /\u003eHit http://us.archive.ubuntu.com wily-backports/main Sources\u003cbr /\u003eHit http://us.archive.ubuntu.com wily-backports/restricted Sources\u003cbr /\u003eHit http://us.archive.ubuntu.com wily-backports/universe Sources \u003cbr /\u003eHit http://us.archive.ubuntu.com wily-backports/multiverse Sources \u003cbr /\u003eHit http://us.archive.ubuntu.com wily-backports/main amd64 Packages \u003cbr /\u003eHit http://us.archive.ubuntu.com wily-backports/restricted amd64 Packages \u003cbr /\u003eHit http://us.archive.ubuntu.com wily-backports/universe amd64 Packages \u003cbr /\u003eHit http://us.archive.ubuntu.com wily-backports/multiverse amd64 Packages \u003cbr /\u003eHit http://us.archive.ubuntu.com wily-backports/main i386 Packages \u003cbr /\u003eHit http://us.archive.ubuntu.com wily-backports/restricted i386 Packages \u003cbr /\u003eHit http://us.archive.ubuntu.com wily-backports/universe i386 Packages \u003cbr /\u003eHit http://us.archive.ubuntu.com wily-backports/multiverse i386 Packages \u003cbr /\u003eHit http://us.archive.ubuntu.com wily-backports/main Translation-en \u003cbr /\u003eHit http://us.archive.ubuntu.com wily-backports/multiverse Translation-en \u003cbr /\u003eHit http://us.archive.ubuntu.com wily-backports/restricted Translation-en \u003cbr /\u003eHit http://us.archive.ubuntu.com wily-backports/universe Translation-en \u003cbr /\u003eFetched 205 kB in 9s (20.9 kB/s) \u003cbr /\u003eReading package lists... Done\u003cbr /\u003eW: GPG error: https://apt.dockerproject.org ubuntu-wily Release: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY F76221572C52609D\u003cbr /\u003e\u003c/code\u003e\u003c/pre\u003e\r\n\u003cp\u003eDocker suggests I purge any legacy docker repos (There shouldn't be any in this case)\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode\u003echristopherupkes@ubuntu:~$ sudo apt-get purge lxc-docker*\u003cbr /\u003eReading package lists... Done\u003cbr /\u003eBuilding dependency tree \u003cbr /\u003eReading state information... Done\u003cbr /\u003eNote, selecting 'lxc-docker' for regex 'lxc-docker*'\u003cbr /\u003eNote, selecting 'lxc-docker-virtual-package' for regex 'lxc-docker*'\u003cbr /\u003ePackage 'lxc-docker' is not installed, so not removed\u003cbr /\u003ePackage 'lxc-docker-virtual-package' is not installed, so not removed\u003cbr /\u003e0 upgraded, 0 newly installed, 0 to remove and 12 not upgraded.\u003cbr /\u003e\u003c/code\u003e\u003c/pre\u003e\r\n\u003cp\u003eNext ensure we are pulling from the right repo:\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode\u003echristopherupkes@ubuntu:~$ sudo apt-cache policy docker-engine\u003cbr /\u003edocker-engine:\u003cbr /\u003e Installed: (none)\u003cbr /\u003e Candidate: 1.8.3-0~wily\u003cbr /\u003e Version table:\u003cbr /\u003e 1.8.3-0~wily 0\u003cbr /\u003e 500 https://apt.dockerproject.org/repo/ ubuntu-wily/main amd64 Packages\u003cbr /\u003e 1.8.2-0~wily 0\u003cbr /\u003e 500 https://apt.dockerproject.org/repo/ ubuntu-wily/main amd64 Packages\u003cbr /\u003e 1.8.1-0~wily 0\u003cbr /\u003e 500 https://apt.dockerproject.org/repo/ ubuntu-wily/main amd64 Packages\u003cbr /\u003e 1.8.0-0~wily 0\u003cbr /\u003e 500 https://apt.dockerproject.org/repo/ ubuntu-wily/main amd64 Packages\u003cbr /\u003e 1.7.1-0~wily 0\u003cbr /\u003e 500 https://apt.dockerproject.org/repo/ ubuntu-wily/main amd64 Packages\u003cbr /\u003e\u003c/code\u003e\u003c/pre\u003e\r\n\u003cp\u003eLooks like we should be pulling 1.8.3-0, so we are ready to install the Docker engine:\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode\u003echristopherupkes@ubuntu:~$ sudo apt-get install docker-engine\u003cbr /\u003eReading package lists... Done\u003cbr /\u003eBuilding dependency tree \u003cbr /\u003eReading state information... Done\u003cbr /\u003eThe following extra packages will be installed:\u003cbr /\u003e aufs-tools cgroupfs-mount git git-man liberror-perl\u003cbr /\u003eSuggested packages:\u003cbr /\u003e git-daemon-run git-daemon-sysvinit git-doc git-el git-email git-gui gitk\u003cbr /\u003e gitweb git-arch git-cvs git-mediawiki git-svn\u003cbr /\u003eThe following NEW packages will be installed:\u003cbr /\u003e aufs-tools cgroupfs-mount docker-engine git git-man liberror-perl\u003cbr /\u003e0 upgraded, 6 newly installed, 0 to remove and 12 not upgraded.\u003cbr /\u003eNeed to get 9,446 kB of archives.\u003cbr /\u003eAfter this operation, 52.9 MB of additional disk space will be used.\u003cbr /\u003eDo you want to continue? [Y/n] Y\u003cbr /\u003eWARNING: The following packages cannot be authenticated!\u003cbr /\u003e docker-engine\u003cbr /\u003eInstall these packages without verification? [y/N] Y\u003cbr /\u003eGet:1 http://us.archive.ubuntu.com/ubuntu/ wily/universe aufs-tools amd64 1:3.2+20130722-1.1 [92.3 kB]\u003cbr /\u003eGet:2 http://us.archive.ubuntu.com/ubuntu/ wily/universe cgroupfs-mount all 1.2 [4,970 B]\u003cbr /\u003eGet:3 http://us.archive.ubuntu.com/ubuntu/ wily/main liberror-perl all 0.17-1.1 [21.1 kB]\u003cbr /\u003eGet:4 http://us.archive.ubuntu.com/ubuntu/ wily/main git-man all 1:2.5.0-1 [727 kB]\u003cbr /\u003eGet:5 https://apt.dockerproject.org/repo/ ubuntu-wily/main docker-engine amd64 1.8.3-0~wily [5,649 kB]\u003cbr /\u003eGet:6 http://us.archive.ubuntu.com/ubuntu/ wily/main git amd64 1:2.5.0-1 [2,951 kB]\u003cbr /\u003eFetched 9,446 kB in 5s (1,737 kB/s) \u003cbr /\u003eSelecting previously unselected package aufs-tools.\u003cbr /\u003e(Reading database ... 175405 files and directories currently installed.)\u003cbr /\u003ePreparing to unpack .../aufs-tools_1%3a3.2+20130722-1.1_amd64.deb ...\u003cbr /\u003eUnpacking aufs-tools (1:3.2+20130722-1.1) ...\u003cbr /\u003eSelecting previously unselected package cgroupfs-mount.\u003cbr /\u003ePreparing to unpack .../cgroupfs-mount_1.2_all.deb ...\u003cbr /\u003eUnpacking cgroupfs-mount (1.2) ...\u003cbr /\u003eSelecting previously unselected package liberror-perl.\u003cbr /\u003ePreparing to unpack .../liberror-perl_0.17-1.1_all.deb ...\u003cbr /\u003eUnpacking liberror-perl (0.17-1.1) ...\u003cbr /\u003eSelecting previously unselected package git-man.\u003cbr /\u003ePreparing to unpack .../git-man_1%3a2.5.0-1_all.deb ...\u003cbr /\u003eUnpacking git-man (1:2.5.0-1) ...\u003cbr /\u003eSelecting previously unselected package git.\u003cbr /\u003ePreparing to unpack .../git_1%3a2.5.0-1_amd64.deb ...\u003cbr /\u003eUnpacking git (1:2.5.0-1) ...\u003cbr /\u003eSelecting previously unselected package docker-engine.\u003cbr /\u003ePreparing to unpack .../docker-engine_1.8.3-0~wily_amd64.deb ...\u003cbr /\u003eUnpacking docker-engine (1.8.3-0~wily) ...\u003cbr /\u003eProcessing triggers for man-db (2.7.4-1) ...\u003cbr /\u003eProcessing triggers for ureadahead (0.100.0-19) ...\u003cbr /\u003eProcessing triggers for systemd (225-1ubuntu9) ...\u003cbr /\u003eSetting up aufs-tools (1:3.2+20130722-1.1) ...\u003cbr /\u003eSetting up cgroupfs-mount (1.2) ...\u003cbr /\u003eSetting up liberror-perl (0.17-1.1) ...\u003cbr /\u003eSetting up git-man (1:2.5.0-1) ...\u003cbr /\u003eSetting up git (1:2.5.0-1) ...\u003cbr /\u003eSetting up docker-engine (1.8.3-0~wily) ...\u003cbr /\u003eProcessing triggers for libc-bin (2.21-0ubuntu4) ...\u003cbr /\u003eProcessing triggers for ureadahead (0.100.0-19) ...\u003cbr /\u003eProcessing triggers for systemd (225-1ubuntu9) ...\u003c/code\u003e\u003c/pre\u003e\r\n\u003cp\u003eNo errors reported, so this seems like a successful install.  Let's test the install by loading the hello-world image from Docker Hub.  This is the generic test image used as the typical test case for Docker engine installs.\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode\u003echristopherupkes@ubuntu:~$ sudo docker run hello-world\u003cbr /\u003eUnable to find image 'hello-world:latest' locally\u003cbr /\u003elatest: Pulling from library/hello-world\u003cbr /\u003eb901d36b6f2f: Pull complete \u003cbr /\u003e0a6ba66e537a: Pull complete \u003cbr /\u003eDigest: sha256:517f03be3f8169d84711c9ffb2b3235a4d27c1eb4ad147f6248c8040adb93113\u003cbr /\u003eStatus: Downloaded newer image for hello-world:latest\r\nHello from Docker.\u003cbr /\u003eThis message shows that your installation appears to be working correctly.\r\nTo generate this message, Docker took the following steps:\u003cbr /\u003e 1. The Docker client contacted the Docker daemon.\u003cbr /\u003e 2. The Docker daemon pulled the \"hello-world\" image from the Docker Hub.\u003cbr /\u003e 3. The Docker daemon created a new container from that image which runs the\u003cbr /\u003e executable that produces the output you are currently reading.\u003cbr /\u003e 4. The Docker daemon streamed that output to the Docker client, which sent it\u003cbr /\u003e to your terminal.\r\nTo try something more ambitious, you can run an Ubuntu container with:\u003cbr /\u003e $ docker run -it ubuntu bash\r\nShare images, automate workflows, and more with a free Docker Hub account:\u003cbr /\u003e https://hub.docker.com\r\nFor more examples and ideas, visit:\u003cbr /\u003e https://docs.docker.com/userguide/\u003c/code\u003e\u003c/pre\u003e","source_locale":"en-us","locale":"en-us","outdated":false},{"id":204189063,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/204189063.json","html_url":"https://support.neo4j.com/hc/en-us/articles/204189063","author_id":828189206,"comments_disabled":false,"label_names":[],"draft":true,"promoted":false,"position":0,"vote_sum":0,"vote_count":0,"section_id":200574983,"created_at":"2014-11-03T15:43:50Z","updated_at":"2015-09-11T14:30:58Z","name":"Debian: apt-get failing to update Neo4j","title":"Debian: apt-get failing to update Neo4j","body":"\u003cp\u003eThe common\u0026nbsp;cause is an out of date gpg key. To update then run the following command:\u003c/p\u003e\r\n\u003cpre\u003ewget -O - http://debian.neo4j.org/neotechnology.gpg.key | apt-key add -\u003c/pre\u003e\r\n\u003cp\u003eYou can get more information about running Neo4j on Debian at: \u003ca href=\"http://debian.neo4j.org/\"\u003ehttp://debian.neo4j.org/\u003c/a\u003e.\u003c/p\u003e\r\n\u003cp\u003eIf you continue to have issues please consult Stack Overflow and contact Neo4J support.\u003c/p\u003e","source_locale":"en-us","locale":"en-us","outdated":false},{"id":208351878,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/208351878.json","html_url":"https://support.neo4j.com/hc/en-us/articles/208351878","author_id":849980547,"comments_disabled":false,"label_names":["nfs","filesystem"],"draft":false,"promoted":false,"position":0,"vote_sum":0,"vote_count":0,"section_id":200574983,"created_at":"2015-09-02T16:37:40Z","updated_at":"2015-09-10T17:50:50Z","name":"Can I use NFS as my filesystem or datastore storage?","title":"Can I use NFS as my filesystem or datastore storage?","body":"\u003cp\u003eThe short answer is no. Although this may seem harmless, the reason for this is not performance related, but rather for control over locking files.\u003c/p\u003e\r\n\u003cp\u003eNFS and other filesystems that don't offer locking should not be used to install Neo4j or store the datastore. If we can't lock the store files, others can concurrently access them, resulting in corruption.\u003c/p\u003e\r\n\u003cp\u003eRefer to the Neo4j documentation on recommended filesystem storage formats:\u003c/p\u003e\r\n\u003cp\u003ehttp://neo4j.com/docs/stable/deployment-requirements.html#_filesystem\u003c/p\u003e","source_locale":"en-us","locale":"en-us","outdated":false},{"id":208561567,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/208561567.json","html_url":"https://support.neo4j.com/hc/en-us/articles/208561567","author_id":1090894248,"comments_disabled":false,"label_names":["index","fulltext"],"draft":false,"promoted":false,"position":0,"vote_sum":0,"vote_count":0,"section_id":200574983,"created_at":"2015-08-26T16:23:23Z","updated_at":"2015-09-10T17:48:55Z","name":"Fulltext Search in Neo4j","title":"Fulltext Search in Neo4j","body":"\u003cp\u003eAs of Neo4j 2.2.x, the new schema index is optimal for indexing exact property values, but does not support \"fuzzy\"or full-text search. However, legacy indexing does allow for optimization for these types of queries, relying on auto-indexes. Here's how to do it...\u003c/p\u003e\r\n\u003cp\u003eFirst we need to enable the legacy indexing by editing the neo4j.properties file and edit the following lines as shown\u003c/p\u003e\r\n\u003cpre\u003e# Enable auto-indexing for nodes, default is false.\u003cbr /\u003enode_auto_indexing=true\u003c/pre\u003e\r\n\u003cp\u003eThen in the same file add the node property keys to be auto-indexed.\u003c/p\u003e\r\n\u003cpre\u003e# The node property keys to be auto-indexed, if enabled.\u003cbr /\u003enode_keys_indexable=name,title,tagline \u003c/pre\u003e\r\n\u003cp\u003eBy default, the auto-index will take the type as \"\u003cstrong\u003eexact\u003c/strong\u003e\". To change to type \"\u003cstrong\u003efulltext\u003c/strong\u003e\" we can do it using neo4j-shell.\u003c/p\u003e\r\n\u003cp\u003eIn neo4j-shell, type in to get the current auto-index configuration:\u003c/p\u003e\r\n\u003cp\u003e\u003cem\u003e\u003cstrong\u003eindex --get-config node_auto_index\u003c/strong\u003e\u003c/em\u003e\u003c/p\u003e\r\n\u003cpre\u003eneo4j-sh (?)$ index --get-config node_auto_index\r\n{\r\n   \"provider\": \"lucene\",\r\n   \"type\": \"exact\"\r\n}\u003c/pre\u003e\r\n\u003cp\u003eTo change the configuration to “fulltext” execute the following command in neo4j-shell\u003c/p\u003e\r\n\u003cpre\u003eneo4j-sh (?)$ index --set-config node_auto_index type fulltext\u003cbr /\u003eINDEX CONFIGURATION CHANGED, INDEX DATA MAY BE INVALID\u003c/pre\u003e\r\n\u003cp\u003eRepopulate those columns on which it is indexed as given in the below example from the Movie database:\u003c/p\u003e\r\n\u003cpre\u003ematch (n:Movie) set n.title = n.title;\u003c/pre\u003e\r\n\u003cp\u003eThen check the auto-index config to confirm if the type is changed to \"\u003cstrong\u003efulltext\u003c/strong\u003e\"\u003c/p\u003e\r\n\u003cpre\u003eneo4j-sh (?)$ index --get-config node_auto_index            \r\n{\r\n    \"provider\": \"lucene\",\r\n    \"type\": \"fulltext\"\r\n}\u003c/pre\u003e\r\n\u003cp\u003eRun the query to use fulltext:\u003c/p\u003e\r\n\u003cpre\u003eneo4j-sh (?)$ start n=node:node_auto_index(\"title:*atri*\") return n;\r\n+-------------------------------------------------------------------------------------------------------------+\r\n| n                                                                                                           |\r\n+-------------------------------------------------------------------------------------------------------------+\r\n| Node[0]{title:\"The Matrix\",released:1999,tagline:\"Welcome to the Real World\"}                               |\r\n| Node[9]{title:\"The Matrix Reloaded\",released:2003,tagline:\"Free your mind\"}                                 |\r\n| Node[10]{title:\"The Matrix Revolutions\",released:2003,tagline:\"Everything that has a beginning has an end\"} |\r\n+-------------------------------------------------------------------------------------------------------------+\r\n3 rows\r\n18 ms\u003c/pre\u003e","source_locale":"en-us","locale":"en-us","outdated":false},{"id":209045537,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/209045537.json","html_url":"https://support.neo4j.com/hc/en-us/articles/209045537","author_id":849980547,"comments_disabled":false,"label_names":["import","neo4j-shell","dump","export"],"draft":true,"promoted":false,"position":0,"vote_sum":0,"vote_count":0,"section_id":200574983,"created_at":"2015-09-02T16:48:21Z","updated_at":"2015-09-10T17:42:02Z","name":"Using result of neo4j-shell dump command to build database results in 'Invalid input' exception","title":"Using result of neo4j-shell dump command to build database results in 'Invalid input' exception","body":"\u003cp\u003eThe neo4j-shell allows an option called \u003cstrong\u003edump\u003c/strong\u003e. This allows you to dump the cypher used to build the entire graph, or the part of the graph resulting from a MATCH query. It is similar to dumping the DDL of a database in SQL.\u003c/p\u003e\r\n\u003cp\u003eIf one wishes to dump the whole graph, or part of the graph, and then run the resulting cypher output directly against Neo4j, you must be cognizant of whether or not you have any schema indexes or unique constraints defined.\u003c/p\u003e\r\n\u003cp\u003eIf there is even a single schema index or unique constraint, you will get an error similar to the following on attempt to run that cypher in neo4j-shell:\u003c/p\u003e\r\n\u003cpre\u003eQueryExecutionKernelException: Invalid input 'c': expected whitespace, comment, ';' or end of input (line 2, column 1 (offset: 40)) \u003cbr /\u003e\"create index on :`Entity`(`entityId`)\"\u003c/pre\u003e\r\n\u003cp\u003eTo fix this, you need to edit the dumped cypher, and surround the index and constraint statements with a BEGIN/COMMIT block, and insert semi-colons at the end of each of those statements, and then surround the rest of the cypher with a second BEGIN/COMMIT block.\u003c/p\u003e\r\n\u003cp\u003eSee the following example:\u003c/p\u003e\r\n\u003cp\u003eFails:\u003c/p\u003e\r\n\u003cpre\u003e$ head /tmp/dump.cypher \r\nbegin\r\ncreate index on :`Entity`(`entityId`)\r\ncreate (_1:`Person` {`name`:\"test\"})\r\ncreate (_2:`Place` {`name`:\"test1\"})\r\n\u003c/pre\u003e\r\n\u003cp\u003eSucceeds:\u003c/p\u003e\r\n\u003cpre\u003e$ head /tmp/dump.cypher.fixed \r\nbegin\r\ncreate index on :`Entity`(`entityId`);\r\ncommit\r\nbegin\r\ncreate (_1:`Person` {`name`:\"test\"})\r\ncreate (_2:`Place` {`name`:\"test1\"})\r\n\u003c/pre\u003e\r\n\u003cp\u003e \u003c/p\u003e","source_locale":"en-us","locale":"en-us","outdated":false},{"id":206282847,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/206282847.json","html_url":"https://support.neo4j.com/hc/en-us/articles/206282847","author_id":849980547,"comments_disabled":false,"label_names":["gc","performance","jvm"],"draft":false,"promoted":false,"position":0,"vote_sum":1,"vote_count":1,"section_id":200574983,"created_at":"2015-05-27T21:04:12Z","updated_at":"2015-09-10T17:40:19Z","name":"Changing your Garbage Collection Method to G1","title":"Changing your Garbage Collection Method to G1","body":"\u003cp\u003e\u003cspan class=\"wysiwyg-underline\"\u003e\u003cstrong\u003eWhen to Use G1:\u003c/strong\u003e\u003c/span\u003e\u003c/p\u003e\r\n\u003cp\u003eBy default, Neo4j uses CMS, or Concurrent Mark and Sweep, for garbage collection. Customers with large heaps or who are seeing unacceptable garbage collection pauses with the default method should give G1 (Garbage 1st) a try.\u003c/p\u003e\r\n\u003cp\u003eG1 trades off a little throughput in the application to ensure the Full GC pauses are predictable and short.  It compacts objects on the heap as it runs avoiding the long Full GC associated with CSM.\u003c/p\u003e\r\n\u003cp\u003eWhen setting G1, it is important to consider your target GC pause duration. We recommend that you leave it at the default (200ms) to start with, but increase that if you still see too many GCs over 1 to 2 seconds. For example, you might try 400ms, then 600ms, until you find the right balance. The setting for the target pause is:\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode\u003ewrapper.java.additional=-XX:MaxGCPauseMillis=200\u003c/code\u003e\u003c/pre\u003e\r\n\u003cp\u003eAdd this line to conf/neo4j-wrapper.conf if you wish to change the default setting.\u003c/p\u003e\r\n\u003cp\u003e\u003cspan class=\"wysiwyg-underline\"\u003e\u003cstrong\u003eMaking the Switch:\u003c/strong\u003e\u003c/span\u003e\u003c/p\u003e\r\n\u003cp\u003eEdit \u003cem\u003econf/neo4j-wrapper.conf\u003c/em\u003e and change:\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode\u003e#********************************************************************\r\n# JVM Parameters\r\n#********************************************************************\r\n\r\n#wrapper.java.additional=-XX:+UseConcMarkSweepGC\r\nwrapper.java.additional=-XX:+UseG1GC\u003cbr /\u003e\u003cbr /\u003eNOTE: G1 should only be used with latest Java 7 or Java 8 releases.\u003c/code\u003e\u003c/pre\u003e","source_locale":"en-us","locale":"en-us","outdated":false},{"id":206103818,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/206103818.json","html_url":"https://support.neo4j.com/hc/en-us/articles/206103818","author_id":849980547,"comments_disabled":false,"label_names":["performance","delete"],"draft":false,"promoted":false,"position":0,"vote_sum":0,"vote_count":0,"section_id":200574983,"created_at":"2015-07-06T14:42:56Z","updated_at":"2015-09-10T17:06:24Z","name":"Large Delete Transaction Best Practices in Neo4j","title":"Large Delete Transaction Best Practices in Neo4j","body":"\u003cp\u003eIn order to achieve the best performance, and avoid negative effects on the rest of the system, consider these best practices when processing large deletes.\u003c/p\u003e\r\n\u003cp\u003eStart by identifying which situation you are in:\u003c/p\u003e\r\n\u003col\u003e\r\n\u003cli\u003eDeleting the entire graph database, so you can rebuild from scratch.\u003c/li\u003e\r\n\u003cli\u003eDeleting a large section of the graph, or a large number of nodes/relationships that are identified in a MATCH statement.\u003c/li\u003e\r\n\u003c/ol\u003e\r\n\u003cp\u003eDepending on the situation, there may be a different recommendation. Going through them in order:\u003c/p\u003e\r\n\u003col\u003e\r\n\u003cli\u003eWhen deleting the entire graph database, by far the best way is to simply stop the database, rename/delete the graph store (data/graph.db or similar) directory, and start the database. This will build a fresh, empty database for you.\u003cbr /\u003e\u003cbr /\u003e\u003c/li\u003e\r\n\u003cli\u003eIf you need to delete some large number of objects from the graph, use the following example to delete subsets of the matched records in batches until the full delete is complete:\u003cbr /\u003e\r\n\u003cpre\u003e// Find the nodes you want to delete\u003cbr /\u003eMATCH (n:Foo) where n.foo = \"bar\"\u003cbr /\u003e\u003cbr /\u003e// Take the first 10k nodes and their rels (if more than 100 rels / node on average lower this number)\u003cbr /\u003eWITH n LIMIT 10000\u003cbr /\u003eMATCH (n)-[r]-()\u003cbr /\u003eDELETE n,r\u003cbr /\u003eRETURN count(*);\u003c/pre\u003e\r\n\u003cp\u003eRun this until the statement returns 0 (zero) records.\u003c/p\u003e\r\n\u003c/li\u003e\r\n\u003c/ol\u003e","source_locale":"en-us","locale":"en-us","outdated":false},{"id":206504018,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/206504018.json","html_url":"https://support.neo4j.com/hc/en-us/articles/206504018","author_id":849980547,"comments_disabled":false,"label_names":["haproxy","rest","auth","authentication"],"draft":false,"promoted":false,"position":0,"vote_sum":1,"vote_count":1,"section_id":200574983,"created_at":"2015-08-04T20:59:32Z","updated_at":"2015-08-28T20:33:06Z","name":"Configure HAProxy with Neo4j REST Basic Authentication Enabled","title":"Configure HAProxy with Neo4j REST Basic Authentication Enabled","body":"\u003cp\u003eIf you are reading this article, it is safe to assume you have decided to use HAProxy with Neo4j, and likely, are using it to \u003ca href=\"/hc/en-us/articles/205270948\" target=\"_blank\"\u003edirect writes to the Master and reads to the Slaves\u003c/a\u003e.\u003c/p\u003e\r\n\u003cp\u003eIf you have \u003cem\u003edbms.security.auth_enabled=true\u003c/em\u003e set in \u003cem\u003eneo4j-server.properties\u003c/em\u003e, then the HAProxy configuration file needs to be modified to allow it to connect to the HA REST endpoints to check for Master vs. Slave. Otherwise, starting HAProxy will result in messages like this:\u003c/p\u003e\r\n\u003cpre\u003e[WARNING] 215/122715 (33099) : Server neo4j-slaves/s1 is DOWN, reason: Layer7 wrong status, code: 401, info: \"Unauthorized\", check duration: 6ms. 2 active and 0 backup servers left. 0 sessions active, 0 requeued, 0 remaining in queue.\u003c/pre\u003e\r\n\u003cp class=\"p1\"\u003eThe first step in configuring HAProxy to use Basic Authentication is to get the base64 representation of username:password. To do this at the command line, for username neo4j and password neo4j:\u003c/p\u003e\r\n\u003cpre\u003e$ echo -n \"neo4j:neo4j\" | base64\u003cbr /\u003ebmVvNGo6bmVvYWRtaW4=\u003c/pre\u003e\r\n\u003cp class=\"p1\"\u003eWith that token, and using the same sample HAProxy config from the \u003ca href=\"/hc/en-us/articles/205270948\" target=\"_blank\"\u003eConfigure HAProxy to Send Write Requests to Master Node Only\u003c/a\u003e article, we can modify the \u003cem\u003eoption httpchk\u003c/em\u003e lines to include this in the HTTP header:\u003c/p\u003e\r\n\u003cpre\u003eoption httpchk GET /db/manage/server/ha/slave HTTP/1.0\\r\\nAuthorization:\\ Basic\\ bmVvNGo6bmVvYWRtaW4=\u003cbr /\u003e\r\noption httpchk GET /db/manage/server/ha/master HTTP/1.0\\r\\nAuthorization:\\ Basic\\ bmVvNGo6bmVvYWRtaW4=\u003c/pre\u003e\r\n\u003cp\u003eAnd now the full config file example:\u003c/p\u003e\r\n\u003cpre\u003eglobal\u003cbr /\u003edaemon\u003cbr /\u003emaxconn 256\u003cbr /\u003e\u003cbr /\u003edefaults\u003cbr /\u003emode http\u003cbr /\u003etimeout connect 5000ms\u003cbr /\u003etimeout client 50000ms\u003cbr /\u003etimeout server 50000ms\u003cbr /\u003e\u003cbr /\u003efrontend http-in\u003cbr /\u003ebind *:80\u003cbr /\u003eacl master_methods method POST DELETE PUT\u003cbr /\u003euse_backend neo4j-master if master_methods\u003cbr /\u003edefault_backend neo4j-slaves\u003cbr /\u003e\u003cbr /\u003ebackend neo4j-slaves\u003cbr /\u003eoption httpchk GET /db/manage/server/ha/slave HTTP/1.0\\r\\nAuthorization:\\ Basic\\ bmVvNGo6bmVvYWRtaW4=\u003c/pre\u003e\r\n\u003cpre\u003e\u003cbr /\u003eserver s1 10.0.1.10:7474 maxconn 32 check\u003cbr /\u003eserver s2 10.0.1.11:7474 maxconn 32 check\u003cbr /\u003eserver s3 10.0.1.12:7474 maxconn 32 check\u003cbr /\u003e\u003cbr /\u003ebackend neo4j-master\u003cbr /\u003eoption httpchk GET /db/manage/server/ha/master HTTP/1.0\\r\\nAuthorization:\\ Basic\\ bmVvNGo6bmVvYWRtaW4=\u003c/pre\u003e\r\n\u003cpre\u003e\u003cbr /\u003eserver s1 10.0.1.10:7474 maxconn 32 check\u003cbr /\u003eserver s2 10.0.1.11:7474 maxconn 32 check\u003cbr /\u003eserver s3 10.0.1.12:7474 maxconn 32 check\u003c/pre\u003e","source_locale":"en-us","locale":"en-us","outdated":false},{"id":205270948,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/205270948.json","html_url":"https://support.neo4j.com/hc/en-us/articles/205270948","author_id":849980547,"comments_disabled":false,"label_names":["clustering","haproxy"],"draft":false,"promoted":false,"position":0,"vote_sum":1,"vote_count":1,"section_id":200574983,"created_at":"2015-05-11T20:26:01Z","updated_at":"2015-08-28T20:18:24Z","name":"Configure HAProxy to Send Write Requests to Master Node Only","title":"Configure HAProxy to Send Write Requests to Master Node Only","body":"\u003cp\u003eThere are a few options regarding implementation of a proxy server to direct writes to a Master node and reads to the Slave nodes in a Neo4j cluster. Commonly, it is recommended to handle this logic in the application code. However, there is another way.\u003c/p\u003e\r\n\u003cp\u003eBy using the following configuration for HAProxy, you can direct GET requests (reads) to the Slave nodes, while directing everything else (DELETE, POST, PUT) to the Master.\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode\u003eglobal\u003cbr /\u003edaemon\u003cbr /\u003emaxconn 256\u003cbr /\u003e\u003cbr /\u003edefaults\u003cbr /\u003emode http\u003cbr /\u003etimeout connect 5000ms\u003cbr /\u003etimeout client 50000ms\u003cbr /\u003etimeout server 50000ms\u003cbr /\u003e\u003cbr /\u003efrontend http-in\u003cbr /\u003ebind *:80\u003cbr /\u003eacl master_methods method POST DELETE PUT\u003cbr /\u003euse_backend neo4j-master if master_methods\u003cbr /\u003edefault_backend neo4j-slaves\u003cbr /\u003e\u003cbr /\u003ebackend neo4j-slaves\u003cbr /\u003eoption httpchk GET /db/manage/server/ha/slave\u003cbr /\u003eserver s1 10.0.1.10:7474 maxconn 32 check\u003cbr /\u003eserver s2 10.0.1.11:7474 maxconn 32 check\u003cbr /\u003eserver s3 10.0.1.12:7474 maxconn 32 check\u003cbr /\u003e\u003cbr /\u003ebackend neo4j-master\u003cbr /\u003eoption httpchk GET /db/manage/server/ha/master\u003cbr /\u003eserver s1 10.0.1.10:7474 maxconn 32 check\u003cbr /\u003eserver s2 10.0.1.11:7474 maxconn 32 check\u003cbr /\u003eserver s3 10.0.1.12:7474 maxconn 32 check\u003cbr /\u003e\u003cbr /\u003e\u003c/code\u003e\u003c/pre\u003e\r\n\u003cp\u003eThe logic here says that by default a request is routed to a Slave, and IF it is a write request (POST, DELETE, PUT), route it to a Master instead.\u003c/p\u003e\r\n\u003cp\u003eSee the product documentation for more info on this topic:\u003c/p\u003e\r\n\u003cp\u003e\u003ca href=\"http://neo4j.com/docs/stable/ha-haproxy.html\" target=\"_blank\"\u003ehttp://neo4j.com/docs/stable/ha-haproxy.html\u003c/a\u003e\u003c/p\u003e\r\n\u003cp\u003eIf you have authentication enabled, you will also want to refer to this other article:\u003c/p\u003e\r\n\u003cp\u003e\u003ca href=\"/hc/en-us/articles/206504018\" target=\"_blank\"\u003eConfigure HAProxy with Neo4j REST Basic Authentication Enabled\u003c/a\u003e\u003c/p\u003e","source_locale":"en-us","locale":"en-us","outdated":false},{"id":206542857,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/206542857.json","html_url":"https://support.neo4j.com/hc/en-us/articles/206542857","author_id":849980547,"comments_disabled":false,"label_names":[],"draft":false,"promoted":false,"position":0,"vote_sum":0,"vote_count":0,"section_id":200574983,"created_at":"2015-06-17T20:28:10Z","updated_at":"2015-08-28T20:16:39Z","name":"What to collect when opening a Neo4j Support Case?","title":"What to collect when opening a Neo4j Support Case?","body":"\u003cp\u003eYou have experienced an error or unexplained behavior from your Neo4j system, and are getting ready to open a support ticket. What information should you include?\u003c/p\u003e\r\n\u003cp\u003eTo have the absolute best chance to identify and resolve an issue, Neo4j support will need the following items from \u003cstrong\u003eeach instance \u003c/strong\u003e(each node in your cluster, or just the standalone instance if not using clustering).\u003c/p\u003e\r\n\u003cp\u003e\u003cstrong\u003eNote\u003c/strong\u003e: This example assumes your data store is named \u003ccode\u003egraph.db\u003c/code\u003e, and is located in the data directory of your server instance.\u003c/p\u003e\r\n\u003cul\u003e\r\n\u003cli\u003e\u003ccode\u003edata/graph.db/messages.log \u003c/code\u003e\u003c/li\u003e\r\n\u003cli\u003e\u003ccode\u003edata/log/console.log OR application log in the case of embedded\u003c/code\u003e\u003c/li\u003e\r\n\u003cli\u003e\u003ccode\u003edata/log/neo4j.0.0.log\u003c/code\u003e\u003c/li\u003e\r\n\u003cli\u003e\u003ccode\u003edata/graph.db/neostore\u003c/code\u003e\u003cbr /\u003eThis file contains important, non-sensitive information\u003c/li\u003e\r\n\u003cli\u003eDirectory listing with sizes of \u003ccode\u003edata/graph.db\u003c/code\u003e\u003cbr /\u003e\u003ccode\u003els -al data/graph.db\u003c/code\u003e  or similar\u003c/li\u003e\r\n\u003c/ul\u003e\r\n\u003cp\u003eOf course, if all of this information is not available, it is OK. Open the ticket and we will work with what we have.\u003c/p\u003e\r\n\u003cp\u003e \u003c/p\u003e","source_locale":"en-us","locale":"en-us","outdated":false},{"id":205752448,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/205752448.json","html_url":"https://support.neo4j.com/hc/en-us/articles/205752448","author_id":849980547,"comments_disabled":false,"label_names":["gc","gc pauses"],"draft":false,"promoted":false,"position":0,"vote_sum":0,"vote_count":0,"section_id":200574983,"created_at":"2015-06-12T20:48:00Z","updated_at":"2015-08-28T14:31:08Z","name":"Long GC Pauses caused by application code calling System.gc()","title":"Long GC Pauses caused by application code calling System.gc()","body":"\u003cp\u003eWhen investigating the cause of long garbage collection cycles, it is often useful to enable GC logging, which is documented \u003ca href=\"/hc/en-us/articles/204225303-Enabling-GC-Logging\"\u003ehere\u003c/a\u003e. Once this is enabled, you can look through the GC log file for signs of problems.\u003c/p\u003e\r\n\u003cp\u003eWhen looking for \u003cem\u003eFull GC\u003c/em\u003e messages, pay special attention to the details of the message. If you see something like:\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode\u003e2015-06-09T10:02:16.238-0400: 3571.628: [Full GC (System.gc())  8093M-\u0026gt;6655M(24G), 22.3031445 secs] \u003cbr /\u003e[Eden: 1464.0M(4456.0M)-\u0026gt;0.0B(4456.0M) Survivors: 0.0B-\u0026gt;0.0B Heap: 8093.5M(24.0G)-\u0026gt;6655.4M(24.0G)], [Metaspace: 89264K-\u0026gt;89264K(1132544K)]\u003cbr /\u003e[Times: user=31.56 sys=0.01, real=22.30 secs]\u003c/code\u003e\u003c/pre\u003e\r\n\u003cp\u003eIn this case you are likely looking at a situation where the application code is invoking a full garbage collection cycle, whether or not it is needed. It is recommended to allow the JVM to make decisions on how and when to run garbage collection so as not to force unnecessary \"stop the world\" events.\u003c/p\u003e","source_locale":"en-us","locale":"en-us","outdated":false},{"id":206792468,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/206792468.json","html_url":"https://support.neo4j.com/hc/en-us/articles/206792468","author_id":849980547,"comments_disabled":false,"label_names":["debian","apt-get","install"],"draft":false,"promoted":false,"position":0,"vote_sum":0,"vote_count":0,"section_id":200574983,"created_at":"2015-08-14T15:43:17Z","updated_at":"2015-08-27T20:05:24Z","name":"Using apt-get to download a specific Neo4j debian package","title":"Using apt-get to download a specific Neo4j debian package","body":"\u003cp\u003eBy default, using apt-get to install Neo4j allows you to grab the current and previous stable releases. However, if you would like to install an older version, you can specify that.\u003c/p\u003e\r\n\u003cp\u003eFor reference, the Debian repo is located here: http://debian.neo4j.org/\u003c/p\u003e\r\n\u003cp\u003eFrom the command line, run the following as root:\u003c/p\u003e\r\n\u003cpre\u003eroot@neo4j:~# apt-cache madison neo4j\u003cbr /\u003e neo4j | 2.2.4 | http://debian.neo4j.org/repo/ stable/ Packages\u003cbr /\u003e neo4j | 2.2.3 | http://debian.neo4j.org/repo/ stable/ Packages\u003cbr /\u003e neo4j | 2.2.2 | http://debian.neo4j.org/repo/ stable/ Packages\u003cbr /\u003e neo4j | 2.2.1 | http://debian.neo4j.org/repo/ stable/ Packages\u003cbr /\u003e neo4j | 2.2.0 | http://debian.neo4j.org/repo/ stable/ Packages\u003cbr /\u003e neo4j | 2.1.8 | http://debian.neo4j.org/repo/ stable/ Packages\u003cbr /\u003e neo4j | 2.1.7 | http://debian.neo4j.org/repo/ stable/ Packages\u003cbr /\u003e neo4j | 2.1.6 | http://debian.neo4j.org/repo/ stable/ Packages\u003cbr /\u003e neo4j | 2.1.5 | http://debian.neo4j.org/repo/ stable/ Packages\u003cbr /\u003e neo4j | 2.1.4 | http://debian.neo4j.org/repo/ stable/ Packages\u003cbr /\u003e neo4j | 2.1.3 | http://debian.neo4j.org/repo/ stable/ Packages\u003cbr /\u003e neo4j | 2.1.2 | http://debian.neo4j.org/repo/ stable/ Packages\u003cbr /\u003e neo4j | 2.1.1 | http://debian.neo4j.org/repo/ stable/ Packages\u003cbr /\u003e neo4j | 2.1.0 | http://debian.neo4j.org/repo/ stable/ Packages\u003cbr /\u003e neo4j | 2.0.4 | http://debian.neo4j.org/repo/ stable/ Packages\u003cbr /\u003e neo4j | 2.0.3 | http://debian.neo4j.org/repo/ stable/ Packages\u003cbr /\u003e neo4j | 2.0.2 | http://debian.neo4j.org/repo/ stable/ Packages\u003cbr /\u003e neo4j | 2.0.1 | http://debian.neo4j.org/repo/ stable/ Packages\u003cbr /\u003e neo4j | 2.0.0 | http://debian.neo4j.org/repo/ stable/ Packages\u003cbr /\u003e neo4j | 1.9.5 | http://debian.neo4j.org/repo/ stable/ Packages\u003cbr /\u003e neo4j | 1.9.4 | http://debian.neo4j.org/repo/ stable/ Packages\u003cbr /\u003e neo4j | 1.9.2 | http://debian.neo4j.org/repo/ stable/ Packages\u003cbr /\u003e neo4j | 1.9.1 | http://debian.neo4j.org/repo/ stable/ Packages\u003cbr /\u003e neo4j | 1.9 | http://debian.neo4j.org/repo/ stable/ Packages\u003cbr /\u003e neo4j | 1.8.2 | http://debian.neo4j.org/repo/ stable/ Packages\u003cbr /\u003e neo4j | 1.8.1 | http://debian.neo4j.org/repo/ stable/ Packages\u003c/pre\u003e\r\n\u003cp\u003eChoose from the available packages, and decide whether you want Enterprise or Community. To install neo4j 2.2.1:\u003c/p\u003e\r\n\u003cp\u003e\u003cspan class=\"wysiwyg-underline\"\u003e\u003cstrong\u003eEnterprise:\u003c/strong\u003e\u003c/span\u003e\u003c/p\u003e\r\n\u003cpre\u003eroot@neo4j:~# apt-get install neo4j-enterprise=2.2.1 \u003c/pre\u003e\r\n\u003cp\u003e\u003cspan class=\"wysiwyg-underline\"\u003e\u003cstrong\u003eCommunity:\u003c/strong\u003e\u003c/span\u003e\u003c/p\u003e\r\n\u003cpre\u003eroot@neo4j:~# apt-get install neo4j=2.2.1\u003c/pre\u003e","source_locale":"en-us","locale":"en-us","outdated":false},{"id":206226107,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/206226107.json","html_url":"https://support.neo4j.com/hc/en-us/articles/206226107","author_id":849980547,"comments_disabled":false,"label_names":["performance","cartesian"],"draft":false,"promoted":false,"position":0,"vote_sum":0,"vote_count":0,"section_id":200574983,"created_at":"2015-05-21T22:07:57Z","updated_at":"2015-08-26T14:37:10Z","name":"Cross Product Cypher queries will not perform well","title":"Cross Product Cypher queries will not perform well","body":"\u003cp\u003eJust like SQL, if you do not properly connect the parts of your query, it will result in a cross (cartesian) product, which is seldom what you want. Take the following example:\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode\u003eMATCH (p:Person), (m:Movie)\u003cbr /\u003eRETURN p, m;\u003c/code\u003e\u003c/pre\u003e\r\n\u003cp\u003eIn Cypher, what happens is that \u003cstrong\u003ep\u003c/strong\u003e contains all of the nodes in the graph with the \u003cstrong\u003e:Person\u003c/strong\u003e label, and \u003cstrong\u003em\u003c/strong\u003e contains all of the nodes in the graph with the \u003cstrong\u003e:Movie\u003c/strong\u003e label. Returning both of these results in a combination of each node \u003cstrong\u003ep\u003c/strong\u003e being returned with each node \u003cstrong\u003em\u003c/strong\u003e, like so:\u003c/p\u003e\r\n\u003cp\u003eIf there are 3 nodes with label Person:\u003c/p\u003e\r\n\u003cp\u003e\u003cem\u003eNeo, Trinity, and Morpheus\u003c/em\u003e\u003c/p\u003e\r\n\u003cp\u003eand 3 nodes with label Movie:\u003c/p\u003e\r\n\u003cp\u003e\u003cem\u003eThe Matrix, The Matrix Reloaded, and The Matrix Revolutions\u003c/em\u003e\u003c/p\u003e\r\n\u003cp\u003eThe result of the above Cypher would be:\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode\u003e---------------------------------------------\u003cbr /\u003e       p     |              m\u003cbr /\u003e---------------------------------------------\u003cbr /\u003eNeo          |    The Matrix\u003cbr /\u003eNeo          |    The Matrix Reloaded\u003cbr /\u003eNeo          |    The Matrix Revolutions\u003cbr /\u003eTrinity      |    The Matrix\u003cbr /\u003eTrinity      |    The Matrix Reloaded\u003cbr /\u003eTrinity      |    The Matrix Revolutions\u003cbr /\u003eMorpheus     |    The Matrix\u003cbr /\u003eMorpheus     |    The Matrix Reloaded\u003cbr /\u003eMorpheus     |    The Matrix Revolutions\u003cbr /\u003e----------------------------------------------\u003c/code\u003e\u003c/pre\u003e\r\n\u003cp\u003eKeep in mind, this is a simple example, so the result set is small. With a production size graph, this would be a very large, potentially memory intensive query.\u003c/p\u003e\r\n\u003cp\u003eIn general, inadvertent cross products happen in more complex queries, many times with a number of WITH clauses, and a close look at the query is needed to flush out the issue. By following general performance best practices, this can easily be avoided. Be as specific with your query as possible, make sure to use identifiers to properly tie parts of the query together, and only return the data you need.\u003c/p\u003e","source_locale":"en-us","locale":"en-us","outdated":false},{"id":204109943,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/204109943.json","html_url":"https://support.neo4j.com/hc/en-us/articles/204109943","author_id":171567303,"comments_disabled":true,"label_names":[],"draft":false,"promoted":false,"position":0,"vote_sum":-1,"vote_count":1,"section_id":200630573,"created_at":"2014-10-28T23:27:29Z","updated_at":"2015-08-25T16:46:11Z","name":"Duplicate Properties Issue (Neo4j 2.1.1-4) [cr73nh]","title":"Duplicate Properties Issue (Neo4j 2.1.1-4) [cr73nh]","body":"\u003cp\u003eNeo4j versions 2.1.0-2.1.4 may be affected by an issue that can cause multiple properties with the same name existing on the same node or relationship to be persisted in the data store. As properties are addressed by name, this issue may present as a given property having a different value from what is expected. That value may also change over time, depending on which of the duplicates is accessed.\u003c/p\u003e\r\n\u003cp\u003eIf such duplicate properties are detected, Neo4j versions 2.1.5 and later will report this during normal runtime. The message will appear in the console.log as follows:\u003c/p\u003e\r\n\u003cpre\u003eWARNING: Duplicate property records have been detected in this database store.\u003c/pre\u003e\r\n\u003cp\u003eA similar warning will also be generated during a consistency check.\u003c/p\u003e\r\n\u003cp\u003eIf you have observed this issue, please contact \u003ca href=\"mailto:support@neotechnology.com\"\u003esupport@neotechnology.com\u003c/a\u003e for further advice.\u003c/p\u003e","source_locale":"en-us","locale":"en-us","outdated":false},{"id":202478263,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/202478263.json","html_url":"https://support.neo4j.com/hc/en-us/articles/202478263","author_id":211781478,"comments_disabled":false,"label_names":[],"draft":false,"promoted":false,"position":0,"vote_sum":0,"vote_count":0,"section_id":200389507,"created_at":"2014-06-05T10:22:04Z","updated_at":"2015-08-25T16:45:51Z","name":"Failure to complete consistency check during backup (Neo4j 2.0.0-2.0.3)","title":"Failure to complete consistency check during backup (Neo4j 2.0.0-2.0.3)","body":"\u003cp\u003eThere is a known issue regarding consistency checker in 2.0.3.\u003c/p\u003e\r\n\u003cp\u003eIn the mean time, you can exclude index checking form consistency checker by configuration. Create a conf/neo4j-consistency-checker.conf with the following contents:\u003c/p\u003e\r\n\u003cp\u003econsistency_check_indexes=false\u003cbr /\u003econsistency_check_label_scan_store=false\u003c/p\u003e\r\n\u003cp\u003eand run your backup using:\u003cbr /\u003e./bin/neo4j-backup -from single://127.0.0.1 -to /tmp/foo -config conf/neo4j-consistency-checker.properties\u003c/p\u003e\r\n\u003cp\u003esee MN's blog as well:\u003c/p\u003e\r\n\u003cp\u003e\u003ca href=\"http://www.markhneedham.com/blog/2014/01/22/neo4j-backup-store-copy-and-consistency-check/\"\u003ehttp://www.markhneedham.com/blog/2014/01/22/neo4j-backup-store-copy-and-consistency-check/\u003c/a\u003e\u003c/p\u003e","source_locale":"en-us","locale":"en-us","outdated":false},{"id":206058878,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/206058878.json","html_url":"https://support.neo4j.com/hc/en-us/articles/206058878","author_id":849980547,"comments_disabled":false,"label_names":["log","embedded"],"draft":true,"promoted":false,"position":0,"vote_sum":0,"vote_count":0,"section_id":200574983,"created_at":"2015-07-01T21:31:13Z","updated_at":"2015-08-25T16:42:54Z","name":"Change logging levels in Neo4j Embedded","title":"Change logging levels in Neo4j Embedded","body":"\u003cp\u003eIn order to change the default logging levels in a Neo4j embedded instance, you must edit/define the configuration file, which is XML. In particular the file is neo4j-logback.xml. \u003c/p\u003e\r\n\u003cp\u003eThe neo4j-logback.xml file must be located in the classpath, so that org.neo4j.kernel.logging.LogbackService can find and read the configuration. \u003c/p\u003e","source_locale":"en-us","locale":"en-us","outdated":false},{"id":205272368,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/205272368.json","html_url":"https://support.neo4j.com/hc/en-us/articles/205272368","author_id":849980547,"comments_disabled":false,"label_names":["consistency check"],"draft":false,"promoted":false,"position":0,"vote_sum":0,"vote_count":0,"section_id":200574983,"created_at":"2015-05-11T21:57:38Z","updated_at":"2015-08-25T16:42:06Z","name":"How do I run Consistency Check Manually?","title":"How do I run Consistency Check Manually?","body":"\u003cp\u003eIf you skip the Consistency Check part of neo4j-backup, or you want to check that all is well with a data store, you can run the tool against an offline store.\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode\u003e$ java -cp 'lib/*:system/lib/*' org.neo4j.consistency.ConsistencyCheckTool /tmp/foo\u003c/code\u003e\u003c/pre\u003e\r\n\u003cp\u003eTo tune the check to skip Indexes (the most impactful modification), simply add the following line to conf/neo4j.properties, and pass it into the tool on the command line:\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode\u003econsistency_check_indexes=false\u003c/code\u003e\u003c/pre\u003e\r\n\u003cp\u003eNow run the command with the configuration file passed along:\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode\u003e$ java -cp 'lib/*:system/lib/*' org.neo4j.consistency.ConsistencyCheckTool -config conf/neo4j.properties /tmp/foo\u003c/code\u003e\u003c/pre\u003e\r\n\u003cp\u003eThere are additional configuration options.\u003c/p\u003e\r\n\u003cp\u003e\u003ccode\u003econsistency_check_property_owners\u003c/code\u003e: Perform optional additional checking on property ownership. This can detect a theoretical inconsistency where a property could be owned by multiple entities. However, the check is very expensive in time and memory, so it is skipped by default.\u003c/p\u003e\r\n\u003cp\u003e\u003ccode\u003econsistency_check_label_scan_store\u003c/code\u003e: Perform checks on the label scan store. Checking this store is more expensive than checking the native stores, so it may be useful to turn off this check for very large databases.\u003c/p\u003e\r\n\u003cp\u003e\u003ccode\u003econsistency_check_indexes\u003c/code\u003e: Perform checks on indexes. Checking indexes is more expensive than checking the native stores, so it may be useful to turn off this check for very large databases.\u003c/p\u003e\r\n\u003cp\u003e\u003ccode\u003econsistency_check_execution_order\u003c/code\u003e: Execution order of store cross-checks to be used when running consistency check\u003c/p\u003e\r\n\u003cp\u003e\u003ccode\u003econsistency_check_report_file\u003c/code\u003e: File name for inconsistencies log file. If not specified, logs to a file in the store directory.\u003cbr /\u003e\u003cbr /\u003e\u003c/p\u003e\r\n\u003cp\u003e \u003c/p\u003e","source_locale":"en-us","locale":"en-us","outdated":false},{"id":206782547,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/206782547.json","html_url":"https://support.neo4j.com/hc/en-us/articles/206782547","author_id":849980547,"comments_disabled":false,"label_names":["maven","java","pom.xml"],"draft":false,"promoted":false,"position":0,"vote_sum":0,"vote_count":0,"section_id":200574983,"created_at":"2015-07-01T19:13:55Z","updated_at":"2015-08-19T08:13:55Z","name":"Recommended pom.xml entry for Neo4j Enterprise","title":"Recommended pom.xml entry for Neo4j Enterprise","body":"\u003cp\u003eEmbedding Neo4j into your Java application?\u003c/p\u003e\r\n\u003cp\u003eIf you plan to build with Maven, you will want to add the following dependency entry to your pom.xml file:\u003c/p\u003e\r\n\u003cpre\u003e\u0026lt;dependencies\u0026gt;\u003cbr /\u003e\u0026lt;dependency\u0026gt;\u003cbr /\u003e\u0026lt;groupId\u0026gt;org.neo4j\u0026lt;/groupId\u0026gt;\u003cbr /\u003e\u0026lt;artifactId\u0026gt;neo4j-enterprise\u0026lt;/artifactId\u0026gt;\u003cbr /\u003e\u0026lt;version\u0026gt;2.2.2\u0026lt;/version\u0026gt;\u003cbr /\u003e\u0026lt;/dependency\u0026gt;\u003cbr /\u003e...\u003cbr /\u003e\u0026lt;/dependencies\u0026gt;\u003c/pre\u003e\r\n\u003cp\u003eIncluding the top-level artifact should be the only one necessary, and should make managing the Neo4j dependencies easier.\u003c/p\u003e","source_locale":"en-us","locale":"en-us","outdated":false},{"id":205965148,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/205965148.json","html_url":"https://support.neo4j.com/hc/en-us/articles/205965148","author_id":849980547,"comments_disabled":false,"label_names":["memory mapping","cache","mmio"],"draft":false,"promoted":false,"position":0,"vote_sum":0,"vote_count":0,"section_id":200574983,"created_at":"2015-06-29T16:07:50Z","updated_at":"2015-08-19T08:13:50Z","name":"How to estimate initial memory configuration","title":"How to estimate initial memory configuration","body":"\u003cp\u003eThe initial and eventual memory configuration parameters can be a moving target, based on how your store changes in size and how your workload increases or changes over time.\u003c/p\u003e\r\n\u003cp\u003eThis guidance is meant for the initial configuration.\u003c/p\u003e\r\n\u003cp\u003eIn order to decide on an appropriate configuration, you need the following information:\u003c/p\u003e\r\n\u003cul\u003e\r\n\u003cli\u003eAmount of physical memory on the machine hosting Neo4j.\u003c/li\u003e\r\n\u003cli\u003eEstimates of the following:\u003c/li\u003e\r\n\u003cul\u003e\r\n\u003cli\u003eNumber of nodes.\u003c/li\u003e\r\n\u003cli\u003eNumber of relationships.\u003c/li\u003e\r\n\u003cli\u003eAverage number of properties per node and per relationship.\u003c/li\u003e\r\n\u003c/ul\u003e\r\n\u003c/ul\u003e\r\n\u003cp\u003eA fairly high-level rule of thumb is \u003cstrong\u003eTotal Physical Memory = Heap + Page Cache + OS Memory\u003c/strong\u003e. Usually reserving 1-2GB for the OS is sufficient. The heap and page cache are detailed below.\u003c/p\u003e\r\n\u003cp\u003eFirst, we need to decide on a good heap size. A heap should not be overly large, as that can cause much longer Stop-the-World pauses when a full garbage collection (GC) cycle is needed. It should also be big enough to allow enough memory for your workload and object cache. On systems with a large amount of physical memory (\u0026gt;56GB), keeping the heap to 16GB and under typically works well.\u003c/p\u003e\r\n\u003cp\u003eSecond, consider the page cache. This is where the store files will be cached in main memory for quicker access. A good rule of thumb is \u003cspan class=\"wysiwyg-underline\"\u003e\u003cstrong\u003eStore size + expected growth + 10%\u003c/strong\u003e\u003c/span\u003e. So, for a store that is 5GB in size, and you expect that to double in size in the next year, you would ideally allocate 5GB + 5GB + 1GB = 11GB.\u003c/p\u003e\r\n\u003cp\u003eLastly, let's look at the object cache options. The object cache is where nodes, relationships, and other objects are mapped to main memory. By default on Neo4j 2.2.x, this is set to High Performance Cache (hpc). On small stores (~10GB or smaller), this performs well. On larger stores, you will probably see better performance turning off the cache (set cache_type=none). \u003c/p\u003e\r\n\u003cp\u003eIf you are using the object cache and need to tune it further, consider starting with the \u003cstrong\u003ecache.memory_ratio\u003c/strong\u003e option. This is on-heap, so it is the percentage of the heap to use for object cache. The default is 50%, but you can increase this a bit (to as high as 65-70%), especially if the JVM is not using all of its heap consistently.\u003c/p\u003e\r\n\u003cp\u003e \u003c/p\u003e","source_locale":"en-us","locale":"en-us","outdated":false},{"id":206292307,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/206292307.json","html_url":"https://support.neo4j.com/hc/en-us/articles/206292307","author_id":849980547,"comments_disabled":false,"label_names":["permissions"],"draft":false,"promoted":false,"position":0,"vote_sum":0,"vote_count":0,"section_id":200574983,"created_at":"2015-05-28T14:49:20Z","updated_at":"2015-08-16T15:31:37Z","name":"Proper File Permissions on Neo4j Server","title":"Proper File Permissions on Neo4j Server","body":"\u003cp\u003eWhen installing Neo4j Server, keep in mind that the \u003ccode\u003ebin/neo4j\u003c/code\u003e executable will need to be run by some OS system user, and that user will need write permissions to some files/directories, specifically to the \u003cem\u003edata/graph.db\u003c/em\u003e directory. That user will also need execute permissions on other files, such as those in \u003cem\u003e/bin\u003c/em\u003e.\u003c/p\u003e\r\n\u003cp\u003eIt is recommended to either choose or create a user who will own and manage the Neo4j Server. This user should own the entire neo4j directory, so make sure to untar/unzip it as this user, and not with sudo (UNIX/Linux/OSx), etc.\u003c/p\u003e\r\n\u003cp\u003e \u003c/p\u003e\r\n\u003cp\u003e\u003cstrong\u003eWhat happens if data/graph.db is not writable by the neo4j user?\u003c/strong\u003e\u003c/p\u003e\r\n\u003cp class=\"p1\"\u003e\u003cspan class=\"s1\"\u003eNeo4j won't be able to write anything either to the store or its log files. \u003c/span\u003eAs a result any logs would be appended to the \u003ccode\u003econsole.log\u003c/code\u003e. The following error message would indicate a possible permissions issue:\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode\u003e2015-05-19 19:32:16.220+0000 INFO [Cluster] Write transactions to database disabled\u003c/code\u003e\u003c/pre\u003e\r\n\u003cp\u003e \u003c/p\u003e","source_locale":"en-us","locale":"en-us","outdated":false},{"id":205527958,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/205527958.json","html_url":"https://support.neo4j.com/hc/en-us/articles/205527958","author_id":849980547,"comments_disabled":false,"label_names":["transaction"],"draft":false,"promoted":false,"position":0,"vote_sum":0,"vote_count":0,"section_id":200574983,"created_at":"2015-05-28T16:55:02Z","updated_at":"2015-08-11T18:58:38Z","name":"Dump the Contents of a Transaction Log","title":"Dump the Contents of a Transaction Log","body":"\u003cp\u003eIf there is a need to look through the transaction logs, particularly to see if/when a node or relationship (or property) with a given ID was touched, you will need to dump the log using this tool.\u003c/p\u003e\r\n\u003cp\u003eGiven a logical log file (in this example, /tmp/neostore.transaction.db.31):\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode\u003ejava -cp 'lib/*:system/lib/*' org.neo4j.kernel.impl.util.DumpLogicalLog /tmp/neostore.transaction.db.31\u003c/code\u003e\u003c/pre\u003e\r\n\u003cp\u003ePrior to Neo4j 2.2, these logs were stored in \u003cem\u003edata/graph.db\u003c/em\u003e with the name \u003ccode\u003enioneo_logical.log.x\u003c/code\u003e. After 2.2, the name has changed to \u003ccode\u003eneostore.transaction.db.x\u003c/code\u003e.\u003c/p\u003e\r\n\u003cp\u003eOnce dumped, you can search for a node ID, etc. For example, you can see what was logged for the following transaction:\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode\u003eneo4j-shell$ create (n:Person {name: \"Neo\"})-[:KNOWS]-\u0026gt;(p:Subject {name: \"Kung-Fu\"});\u003cbr /\u003e\r\nneo4j-shell$ match (p:Person)-[r]-\u0026gt;(n) return p, r, n;\u003cbr /\u003e\r\n+----------------------------------------------------------------------+\r\n| p                      | r              | n                          |\r\n+----------------------------------------------------------------------+\r\n| Node[1000]{name:\"Neo\"} | :KNOWS[1000]{} | Node[1001]{name:\"Kung-Fu\"} |\r\n+----------------------------------------------------------------------+\u003cbr /\u003e\r\n$ java -cp 'lib/*:system/lib/*' org.neo4j.kernel.impl.util.DumpLogicalLog ./data/graph.db/neostore.transaction.db.1 \u0026gt; /tmp/dumptxlog_1.log\r\n\u003cbr /\u003e$ cat /tmp/dumptxlog_1.log \u003cbr /\u003e Command[ -Property[1000,used=false,prev=-1,next=-1,node=1001]\u003cbr /\u003e   +Property[1000,used=true,prev=-1,next=-1,node=1001,PropertyBlock[blocks=2,SHORT_STRING,key=0,value=Kung-Fu]]]\u003cbr /\u003e Command[ -Property[1001,used=false,prev=-1,next=-1,node=1000]\u003cbr /\u003e +Property[1001,used=true,prev=-1,next=-1,node=1000,PropertyBlock[blocks=1,SHORT_STRING,key=0,value=Neo]]]\u003cbr /\u003e Command[Relationship[1000,used=true,source=1000,target=1001,type=1,sCount=1,sNext=-1,tCount=1,tNext=-1,prop=-1, sFirst, tFirst]]\u003cbr /\u003e Command[ -Node[1000,used=false,rel=-1,prop=-1,labels=Inline(0x0:[]),light]\u003cbr /\u003e +Node[1000,used=true,rel=1000,prop=1001,labels=Inline(0x1000000001:[1]),light]]\u003cbr /\u003e Command[ -Node[1001,used=false,rel=-1,prop=-1,labels=Inline(0x0:[]),light]\u003cbr /\u003e +Node[1001,used=true,rel=1000,prop=1000,labels=Inline(0x1000000002:[2]),light]]\u003c/code\u003e\u003c/pre\u003e","source_locale":"en-us","locale":"en-us","outdated":false},{"id":204225303,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/204225303.json","html_url":"https://support.neo4j.com/hc/en-us/articles/204225303","author_id":171567303,"comments_disabled":false,"label_names":["gc","jvm"],"draft":false,"promoted":false,"position":0,"vote_sum":0,"vote_count":0,"section_id":200574983,"created_at":"2014-11-14T09:33:24Z","updated_at":"2015-08-11T18:19:25Z","name":"Enabling GC Logging","title":"Enabling GC Logging","body":"\u003cp\u003eIf you are having issues with Garbage Collection (too many pauses, too long of a pause, pauses causing cluster re-election, etc), you should look at enabling GC logging. \u003c/p\u003e\r\n\u003cp\u003eUncomment these lines in \u003cem\u003econf/neo4j-wrapper.conf\u003c/em\u003e:\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode\u003e#wrapper.java.additional=-Xloggc:data/log/neo4j-gc.log\u003cbr /\u003e#wrapper.java.additional=-XX:+PrintGCDetails\u003cbr /\u003e#wrapper.java.additional=-XX:+PrintGCDateStamps\u003cbr /\u003e#wrapper.java.additional=-XX:+PrintGCApplicationStoppedTime\u003cbr /\u003e#wrapper.java.additional=-XX:+PrintTenuringDistribution \u003c/code\u003e\u003c/pre\u003e\r\n\u003cp\u003eAnd add this line:\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode\u003ewrapper.java.additional=-XX:+PrintGCCause\u003c/code\u003e\u003c/pre\u003e\r\n\u003cp\u003eSave the file and exit.\u003c/p\u003e\r\n\u003cp\u003eThe log file will be written to: \u003cem\u003edata/log/neo4j-gc.log\u003c/em\u003e\u003c/p\u003e\r\n\u003cp\u003eKeep in mind the following regarding GC logging:\u003c/p\u003e\r\n\u003col\u003e\r\n\u003cli\u003eGC log files are cleared out when the database is restarted.\u003c/li\u003e\r\n\u003cli\u003eThere is a small additional load on the system when this logging is enabled. Only enable this to investigate GC issues/impact, and then disable.\u003c/li\u003e\r\n\u003c/ol\u003e","source_locale":"en-us","locale":"en-us","outdated":false},{"id":207281407,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/207281407.json","html_url":"https://support.neo4j.com/hc/en-us/articles/207281407","author_id":828189206,"comments_disabled":false,"label_names":[],"draft":false,"promoted":false,"position":0,"vote_sum":0,"vote_count":0,"section_id":200574983,"created_at":"2015-08-09T15:59:07Z","updated_at":"2015-08-11T12:05:03Z","name":"How to fix \"Cannot close the PageCache while files are still mapped\"","title":"How to fix \"Cannot close the PageCache while files are still mapped\"","body":"\u003cp\u003e \u003c/p\u003e\r\n\u003cp\u003e \u003c/p\u003e\r\n\u003cp\u003eThe most common cause of this error is incorrect file permissions on the store files.\u003c/p\u003e\r\n\u003cp\u003e \u003c/p\u003e\r\n\u003cp\u003eWhile testing it is common for folks to start the database as different users, this can leave store files owned by other user ids.  ( e.g. root )\u003c/p\u003e\r\n\u003cp\u003e \u003c/p\u003e\r\n\u003cp\u003e \u003c/p\u003e","source_locale":"en-us","locale":"en-us","outdated":false},{"id":206099457,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/206099457.json","html_url":"https://support.neo4j.com/hc/en-us/articles/206099457","author_id":849980547,"comments_disabled":false,"label_names":["messages","log","learnerstate"],"draft":false,"promoted":false,"position":0,"vote_sum":0,"vote_count":0,"section_id":200574983,"created_at":"2015-05-13T13:31:56Z","updated_at":"2015-08-07T19:08:56Z","name":"Reduce messages.log size by changing LearnerState log level","title":"Reduce messages.log size by changing LearnerState log level","body":"\u003cp\u003eThe LearnerState logger is very verbose by default, and in most cases, logs much more information to \u003cem\u003edata/graph.db/messages.log\u003c/em\u003e than is necessary. If you wish to reduce this chatter, you can simply edit the following configuration file, and add one line to change the LearnerState verbosity:\u003c/p\u003e\r\n\u003cp\u003eEdit \u003cem\u003econf/custom-logback.xml\u003c/em\u003e, and add the following line just before the \u003cspan class=\"s1\"\u003e\u003ccode\u003e\u0026lt;/included\u0026gt;\u003c/code\u003e tag\u003c/span\u003e:\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode\u003e\u003cspan class=\"s1\"\u003e\u0026lt;logger name=\"org.neo4j.cluster.protocol.atomicbroadcast.multipaxos.LearnerState\" level=\"info\"\u0026gt;\u003c/span\u003e\u0026lt;/logger\u0026gt;\u003c/code\u003e\u003c/pre\u003e\r\n\u003cp class=\"p1\"\u003eSave and exit. Do this for each node in the cluster.\u003c/p\u003e\r\n\u003cp class=\"p1\"\u003eThis should not be necessary in Neo4j 2.3, as the DEBUG logging will be greatly reduced in that release.\u003c/p\u003e","source_locale":"en-us","locale":"en-us","outdated":false},{"id":206058588,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/206058588.json","html_url":"https://support.neo4j.com/hc/en-us/articles/206058588","author_id":849980547,"comments_disabled":false,"label_names":["supervisord","console"],"draft":false,"promoted":false,"position":0,"vote_sum":0,"vote_count":0,"section_id":200574983,"created_at":"2015-07-01T21:10:59Z","updated_at":"2015-08-04T21:14:44Z","name":"Using supervisord to manage Neo4j process","title":"Using supervisord to manage Neo4j process","body":"\u003cp\u003eIn general, running the neo4j process directly is the most common way to start and stop the neo4j server. However, if you use supervisord to manage processes, this has worked for others.\u003c/p\u003e\r\n\u003cp\u003eThings to keep in mind:\u003c/p\u003e\r\n\u003cul\u003e\r\n\u003cli\u003esupervisord can only manage non-daemonized processes, so you will need to use \"neo4j console\" instead of \"neo4j start\".\u003c/li\u003e\r\n\u003cli\u003eYou need to configure the correct \"stopsignal\" in the supervisord configuration so as not to cause issues with the cluster on unexpected restart. In particular, set:\u003cbr /\u003estopsignal=SIGTERM\u003c/li\u003e\r\n\u003c/ul\u003e\r\n\u003cp\u003e Here is an example supervisord configuration that has worked in production:\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode\u003e[program:neo4j] \u003cbr /\u003ecommand=/usr/local/neo4j-enterprise/bin/neo4j console \u003cbr /\u003euser=neo4j \u003cbr /\u003eautostart=true \u003cbr /\u003eautorestart=unexpected \u003cbr /\u003estartsecs=30 \u003cbr /\u003estartretries=999 \u003cbr /\u003epriorities=90 \u003cbr /\u003eexitcodes=0,1,2 \u003cbr /\u003estopsignal=SIGTERM \u003cbr /\u003estopasgroup=true \u003cbr /\u003ekillasgroup=true \u003cbr /\u003eredirect_stderr=true \u003cbr /\u003estdout_logfile=/usr/local/neo4j-enterprise/data/log/neo4j.out \u003cbr /\u003estdout_logfile_backups=10 \u003cbr /\u003estderr_capture_maxbytes=20MB\u003c/code\u003e\u003c/pre\u003e","source_locale":"en-us","locale":"en-us","outdated":false},{"id":205322188,"url":"https://neotechnology.zendesk.com/api/v2/help_center/en-us/articles/205322188.json","html_url":"https://support.neo4j.com/hc/en-us/articles/205322188","author_id":849980547,"comments_disabled":false,"label_names":["cache","performance"],"draft":false,"promoted":false,"position":0,"vote_sum":0,"vote_count":0,"section_id":200574983,"created_at":"2015-05-13T13:54:19Z","updated_at":"2015-08-04T15:48:14Z","name":"Warm the cache to improve performance from cold start","title":"Warm the cache to improve performance from cold start","body":"\u003cp\u003eYou may find that some queries run much faster the second time they run. This is because on cold boot, a server node has nothing cached yet, and needs to go to disk for all objects. Once some/all of the objects are cached, you will see greatly improved performance. \u003c/p\u003e\r\n\u003cp\u003eOne technique that is widely employed is to \"warm the cache\". At its most basic level, we run a query that touches each node and relationship in the graph. Assuming the data store can fit into memory, this will cache the entire graph. Otherwise, it will cache as much as it can. Give it a try and see how it helps you!\u003c/p\u003e\r\n\u003cp\u003e\u003cspan class=\"wysiwyg-underline\"\u003eServer (Cypher)\u003c/span\u003e:\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode\u003eMATCH (n)\u003cbr /\u003eOPTIONAL MATCH (n)-[r]-\u0026gt;() \u003cbr /\u003eWHERE n.prop = 1 and r.prop=2 \u003cbr /\u003eRETURN \"done\";\u003c/code\u003e\u003c/pre\u003e\r\n\u003cp\u003e\u003cspan class=\"wysiwyg-underline\"\u003eEmbedded (Java)\u003c/span\u003e:\u003c/p\u003e\r\n\u003cpre\u003e\u003ccode\u003e@GET\u003cbr /\u003e   @Path(\"/warmup\")\u003cbr /\u003e   public String warmUp(@Context GraphDatabaseService db) {\u003cbr /\u003e       try ( Transaction tx = db.beginTx()) {\u003cbr /\u003e           for ( Node n : GlobalGraphOperations.at(db).getAllNodes()) {\u003cbr /\u003e               n.getPropertyKeys();\u003cbr /\u003e               for ( Relationship relationship : n.getRelationships()) {\u003cbr /\u003e                   relationship.getPropertyKeys();\u003cbr /\u003e                   relationship.getStartNode();\u003cbr /\u003e               }\u003cbr /\u003e           }\u003cbr /\u003e       }\u003cbr /\u003e       return \"Warmed up and ready to go!\";\u003cbr /\u003e   }\u003c/code\u003e\u003c/pre\u003e\r\n\u003cp\u003e \u003c/p\u003e\r\n\u003cp\u003eThis can help in many ways. Aside for pure performance improvement, it can also help alleviate upstream issues resulting from lagging queries. For example if the nodes are busy, and your load balancer/proxy has a very short timeout, it can appear that the cluster is not available initially, if none of the graph is in memory yet. If the cache is warmed, the short timeout shouldn't be a concern on a cold cluster start.\u003c/p\u003e","source_locale":"en-us","locale":"en-us","outdated":false}],"page":1,"previous_page":null,"next_page":"https://support.neo4j.com/api/v2/help_center/articles.json?page=2\u0026per_page=30","per_page":30,"page_count":2,"count":50,"sort_by":"position","sort_order":"asc"}